# Neovim ショートカット・プラグイン一覧

## 基本設定

### Leader キー
- **Leader**: `Space`（スペース）
- **LocalLeader**: `\`（バックスラッシュ）

### モード切り替え
| キー | 動作 | 場所 |
|------|------|------|
| `jj` | インサートモード → ノーマルモード | keymaps.lua |

### カーソル移動
| キー | 動作 | モード | 場所 |
|------|------|--------|------|
| `Ctrl+h` | 行頭に移動 | ノーマル/ビジュアル | keymaps.lua |
| `Ctrl+;` | 行末に移動 | ノーマル/ビジュアル | keymaps.lua |
| `Shift+H` | 行頭に移動 | ノーマル/ビジュアル | keymaps.lua |
| `Shift+L` | 行末に移動 | ノーマル/ビジュアル | keymaps.lua |

---

## プラグイン別ショートカット

### 1. Telescope (ファイル検索・コード検索)
**説明**: VSCodeのような検索機能

| キー | 動作 | 説明 |
|------|------|------|
| `Space+p` | ファイル名検索 | プロジェクト内のファイルを検索 |
| `Space+g` | コード内検索 | ファイル内容をgrep検索 |

**モーダル内の操作**:
- `j/k` または `Ctrl+n/Ctrl+p`: 上下移動
- `Enter`: 選択
- `Esc`: 閉じる

**設定ファイル**: `lua/plugins/fzf.lua`

---

### 2. NvimTree (ファイルツリー)
**説明**: ファイルエクスプローラー

| キー | 動作 |
|------|------|
| `Space+e` | ファイルツリー開閉 |
| `Space+E` | ファイルツリーにフォーカス |

**設定ファイル**: `lua/plugins/tree.lua`

---

### 3. Comment.nvim (コメントアウト)
**説明**: コードのコメント化

| キー | 動作 | モード |
|------|------|--------|
| `Cmd+/` | コメント切り替え | ノーマル/ビジュアル |
| `gcc` | 1行コメント切り替え | ノーマル |
| `gc` | 選択範囲コメント切り替え | ビジュアル |

**設定ファイル**: `lua/plugins/comment.lua`

---

### 4. Conform.nvim (コードフォーマット)
**説明**: コード整形ツール

| キー | 動作 |
|------|------|
| `Space+i` | コードをフォーマット |

**対応言語**:
- Lua: stylua
- Go: goimports, gofmt
- JavaScript/TypeScript/React: prettierd
- JSON: prettierd
- SQL: sql-formatter

**保存時の自動フォーマット**: 有効

**設定ファイル**: `lua/plugins/conform.lua`

---

### 5. Gitsigns (Git統合)
**説明**: Gitの変更を可視化・操作

#### ナビゲーション
| キー | 動作 |
|------|------|
| `]c` | 次の変更箇所へ |
| `[c` | 前の変更箇所へ |

#### Git操作（ノーマルモード）
| キー | 動作 |
|------|------|
| `Space+hs` | 現在行をステージング |
| `Space+hr` | 現在行の変更を元に戻す |
| `Space+hS` | ファイル全体をステージング |
| `Space+hR` | ファイル全体の変更を元に戻す |
| `Space+hu` | アンステージング |
| `Space+hp` | 変更をプレビュー |
| `Space+hb` | Git blameを表示 |
| `Space+hd` | Git差分表示 |
| `Space+hD` | Git差分表示（HEAD比較） |
| `Space+tb` | Git blameの自動表示切り替え |

#### Git操作（ビジュアルモード）
| キー | 動作 |
|------|------|
| `Space+hs` | 選択範囲をステージング |
| `Space+hr` | 選択範囲の変更を元に戻す |

**自動機能**:
- カーソル行のblameを0.5秒後に自動表示
- 変更箇所を行番号横にマーク表示

**設定ファイル**: `lua/plugins/git-signs.lua`

---

### 6. LSP (言語サーバー)
**説明**: コード補完・定義ジャンプなど

| キー | 動作 |
|------|------|
| `gD` | 宣言へジャンプ |
| `gd` | 定義へジャンプ |
| `gi` | 実装へジャンプ |
| `gr` | 参照を表示 |
| `Space+ca` | コードアクション |

**対応言語**:
- Lua (lua-language-server)
- TypeScript/JavaScript (typescript-language-server)
- Go (gopls)
- Ruby (ruby-lsp)

**設定ファイル**: `lua/plugins/lsp.lua`

---

### 7. nvim-cmp (補完)
**説明**: コード補完機能

| キー | 動作 | モード |
|------|------|--------|
| `Ctrl+b` | ドキュメントを上スクロール | インサート |
| `Ctrl+f` | ドキュメントを下スクロール | インサート |
| `Ctrl+Space` | 補完を手動起動 | インサート |
| `Ctrl+e` | 補完中止 | インサート |
| `Enter` | 補完を確定 | インサート |

**補完ソース**:
- LSP
- バッファ内の単語
- ファイルパス

**設定ファイル**: `lua/plugins/cmp.lua`

---

### 8. im-select (日本語入力自動切り替え)
**説明**: ノーマルモードに戻る時に自動で英数入力に切り替え

**動作**:
- インサートモード終了時 → 自動で英数入力に切り替え
- フォーカス喪失時 → 自動で英数入力に切り替え

**設定ファイル**: `lua/plugins/im-select.lua`

---

### 9. Lualine (ステータスライン)
**説明**: 画面下部のステータスバー

機能のみ（キーマップなし）

**設定ファイル**: `lua/plugins/lualine.lua`

---

### 10. Treesitter (シンタックスハイライト)
**説明**: より高度な構文解析・ハイライト

機能のみ（キーマップなし）

**設定ファイル**: `lua/plugins/treesitter.lua`

---

### 11. Tokyonight (カラースキーム)
**説明**: エディタのテーマ

機能のみ（キーマップなし）

**設定ファイル**: `lua/plugins/theme.lua`

---

## 基本設定 (base.lua)

### エディタ設定
- 行番号表示: 有効
- タブ幅: 2スペース
- クリップボード共有: システムと同期
- カーソル形状:
  - ノーマルモード: ブロック
  - インサートモード: 縦線
- キーシーケンスタイムアウト: 500ms

---

## よく使うショートカット Top 10

1. `Space+p` - ファイル検索
2. `Space+g` - コード検索
3. `Space+e` - ファイルツリー開閉
4. `jj` - ノーマルモードへ
5. `gd` - 定義へジャンプ
6. `Space+i` - コードフォーマット
7. `Cmd+/` - コメント切り替え
8. `]c` / `[c` - Git変更箇所移動
9. `Space+ca` - コードアクション
10. `Shift+H` / `Shift+L` - 行頭/行末移動

---

## トラブルシューティング

### プラグインが動かない
1. `:Lazy` でプラグイン状態を確認
2. `:Lazy sync` でプラグインを更新

### LSPが動かない
1. 言語サーバーがインストールされているか確認
   - `which lua-language-server`
   - `which typescript-language-server`
   - `which gopls`
   - `which ruby-lsp`

### 設定を再読み込み
- `:source $MYVIMRC`

---

**更新日**: 2026-01-28

step3/6 にて

- 有無
- 対象外が新しくついた

- 文言の確認

- ユーザ側（申請ページ、申請確認、申請ずみ）
- 管理者新規申請、詳細、

訪問看護ステーション、


