-- ============================================================================
-- Neovim Keymaps Configuration
-- ============================================================================
-- 全てのカスタムキーマップをここに集約
-- セクションごとに整理して管理

local map = vim.keymap.set

-- ============================================================================
-- 1. モード切り替え（最重要）
-- ============================================================================

-- Ctrl+c で確実に Normal mode へ（日本語入力中でも動作）
-- im-selectにより自動的に英数入力に切り替わる
map('i', '<C-c>', '<Esc>', {
  noremap = true,
  silent = true,
  desc = 'Normal modeへ（日本語入力中OK・英数自動切替）'
})
map('v', '<C-c>', '<Esc>', {
  noremap = true,
  silent = true,
  desc = 'Normal modeへ'
})


-- ============================================================================
-- 10. コメントアウト
-- ============================================================================
-- 注: comment.nvim プラグインに依存
-- Ghosttyで Cmd+/ を Ctrl+/ (0x1F = ^_) に変換して送信
-- (Neovim 0.11は完全なKitty Keyboard Protocolをまだサポートしていないため)
-- マッピングは lua/plugins/comment.lua 内で設定（プラグインロード後に設定する必要があるため）


map('n', '<D-/>', 'gcc', { noremap = false, desc = 'コメントトグル' })
map('v', '<D-/>', 'gc', { noremap = false, desc = 'コメントトグル' })

